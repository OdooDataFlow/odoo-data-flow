<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Guide: Performance Tuning" href="05_performance_tuning.html" /><link rel="prev" title="Guide: Data Transformations with Mappers" href="03_data_transformations.html" />

    <!-- Generated with Sphinx 7.4.7 and Furo 2024.08.06 -->
        <title>Guide: Advanced Usage - Odoo Data Flow documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Odoo Data Flow  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Odoo Data Flow  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation with uv</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core_concepts.html">Core Concepts</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">How-To Guides</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of How-To Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="01_importing_data.html">Guide: A Deep Dive into Importing</a></li>
<li class="toctree-l2"><a class="reference internal" href="02_exporting_data.html">Guide: Exporting Data from Odoo</a></li>
<li class="toctree-l2"><a class="reference internal" href="03_data_transformations.html">Guide: Data Transformations with Mappers</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Guide: Advanced Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="05_performance_tuning.html">Guide: Performance Tuning</a></li>
<li class="toctree-l2"><a class="reference internal" href="06_post_import_workflows.html">Guide: Post-Import Workflows</a></li>
<li class="toctree-l2"><a class="reference internal" href="07_server_to_server_migration.html">Guide: Server-to-Server Migration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ &amp; Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributor Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeofconduct.html">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/OdooDataFlow/odoo-data-flow/releases">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ROADMAP.html">Project Roadmap</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/guides/04_advanced_usage.md.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="guide-advanced-usage">
<h1>Guide: Advanced Usage<a class="headerlink" href="#guide-advanced-usage" title="Link to this heading">¶</a></h1>
<p>This guide covers more complex scenarios and advanced features of the library that can help you solve specific data transformation challenges.</p>
<section id="processing-xml-files">
<h2>Processing XML Files<a class="headerlink" href="#processing-xml-files" title="Link to this heading">¶</a></h2>
<p>While CSV is common, you may have source data in XML format. The <code class="docutils literal notranslate"><span class="pre">Processor</span></code> can handle XML files with a couple of extra configuration arguments.</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">xml_root_tag</span></code> (str)</strong>: The name of the root tag in your XML document that contains the collection of records.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">xml_record_tag</span></code> (str)</strong>: The name of the tag that represents a single record.</p></li>
</ul>
<section id="example-importing-partners-from-an-xml-file">
<h3>Example: Importing Partners from an XML File<a class="headerlink" href="#example-importing-partners-from-an-xml-file" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">odoo_data_flow.lib.transform</span><span class="w"> </span><span class="kn">import</span> <span class="n">Processor</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">odoo_data_flow.lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">mapper</span>

<span class="c1"># Access nested XML tags using dot notation.</span>
<span class="n">res_partner_mapping</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">mapper</span><span class="o">.</span><span class="n">m2o_map</span><span class="p">(</span><span class="s1">&#39;xml_client_&#39;</span><span class="p">,</span> <span class="s1">&#39;ClientID&#39;</span><span class="p">),</span>
    <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">mapper</span><span class="o">.</span><span class="n">val</span><span class="p">(</span><span class="s1">&#39;Name&#39;</span><span class="p">),</span>
    <span class="s1">&#39;email&#39;</span><span class="p">:</span> <span class="n">mapper</span><span class="o">.</span><span class="n">val</span><span class="p">(</span><span class="s1">&#39;Contact.Email&#39;</span><span class="p">),</span>
    <span class="s1">&#39;phone&#39;</span><span class="p">:</span> <span class="n">mapper</span><span class="o">.</span><span class="n">val</span><span class="p">(</span><span class="s1">&#39;Contact.Phone&#39;</span><span class="p">),</span>
<span class="p">}</span>

<span class="c1"># Initialize the Processor with XML-specific arguments</span>
<span class="n">processor</span> <span class="o">=</span> <span class="n">Processor</span><span class="p">(</span>
    <span class="s1">&#39;origin/clients.xml&#39;</span><span class="p">,</span>
    <span class="n">xml_root_tag</span><span class="o">=</span><span class="s1">&#39;ClientList&#39;</span><span class="p">,</span>
    <span class="n">xml_record_tag</span><span class="o">=</span><span class="s1">&#39;Client&#39;</span>
<span class="p">)</span>
<span class="c1"># ... rest of the process</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="importing-data-for-multiple-companies">
<h2>Importing Data for Multiple Companies<a class="headerlink" href="#importing-data-for-multiple-companies" title="Link to this heading">¶</a></h2>
<p>When working in a multi-company Odoo environment, you need a clear strategy to ensure records are created in the correct company. There are two primary methods to achieve this.</p>
<section id="method-1-the-procedural-approach-recommended">
<h3>Method 1: The Procedural Approach (Recommended)<a class="headerlink" href="#method-1-the-procedural-approach-recommended" title="Link to this heading">¶</a></h3>
<p>This is the safest and most common approach. The core idea is to separate your data by company and run a distinct import process for each one.</p>
<ol class="arabic simple">
<li><p><strong>Separate your source files:</strong> Create one set of data files for Company A and a completely separate set for Company B.</p></li>
<li><p><strong>Set the User’s Company:</strong> In Odoo, log in as the user defined in your <code class="docutils literal notranslate"><span class="pre">connection.conf</span></code>. In the user preferences, set their default company to <strong>Company A</strong>.</p></li>
<li><p><strong>Run the Import for Company A:</strong> Execute your transformation and load scripts for Company A’s data. All records created will be assigned to Company A by default.</p></li>
<li><p><strong>Change the User’s Company:</strong> Go back to Odoo and change the same user’s default company to <strong>Company B</strong>.</p></li>
<li><p><strong>Run the Import for Company B:</strong> Execute the import process for Company B’s data. These new records will now be correctly assigned to Company B.</p></li>
</ol>
<p>This method is robust because it relies on Odoo’s standard multi-company behavior and prevents accidental data mixing.</p>
</section>
<section id="method-2-the-programmatic-approach-company-id">
<h3>Method 2: The Programmatic Approach (<code class="docutils literal notranslate"><span class="pre">company_id</span></code>)<a class="headerlink" href="#method-2-the-programmatic-approach-company-id" title="Link to this heading">¶</a></h3>
<p>This method is useful when your source file contains data for multiple companies mixed together. You can explicitly tell Odoo which company a record belongs to by mapping a value to the <code class="docutils literal notranslate"><span class="pre">company_id/id</span></code> field.</p>
<p><strong>Example: A source file with mixed-company products</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>SKU,ProductName,CompanyCode
P100,Product A,COMPANY_US
P101,Product B,COMPANY_EU
</pre></div>
</div>
<p><strong>Transformation Script</strong>
Your mapping dictionary can use the <code class="docutils literal notranslate"><span class="pre">CompanyCode</span></code> to link to the correct company record in Odoo using its external ID.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">odoo_data_flow.lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">mapper</span>

<span class="n">product_mapping</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">mapper</span><span class="o">.</span><span class="n">m2o_map</span><span class="p">(</span><span class="s1">&#39;prod_&#39;</span><span class="p">,</span> <span class="s1">&#39;SKU&#39;</span><span class="p">),</span>
    <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">mapper</span><span class="o">.</span><span class="n">val</span><span class="p">(</span><span class="s1">&#39;ProductName&#39;</span><span class="p">),</span>
    <span class="c1"># This line explicitly sets the company for each row.</span>
    <span class="c1"># Assumes your res.company records have external IDs like &#39;main_COMPANY_US&#39;.</span>
    <span class="s1">&#39;company_id/id&#39;</span><span class="p">:</span> <span class="n">mapper</span><span class="o">.</span><span class="n">m2o_map</span><span class="p">(</span><span class="s1">&#39;main_&#39;</span><span class="p">,</span> <span class="s1">&#39;CompanyCode&#39;</span><span class="p">),</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Warning:</strong> While powerful, this method requires that you have stable and correct external IDs for your <code class="docutils literal notranslate"><span class="pre">res.company</span></code> records. The procedural approach is often simpler and less error-prone.</p>
</section>
</section>
<hr class="docutils" />
<section id="importing-translations">
<h2>Importing Translations<a class="headerlink" href="#importing-translations" title="Link to this heading">¶</a></h2>
<p>The most efficient way to import translations is to perform a standard import with a special <code class="docutils literal notranslate"><span class="pre">lang</span></code> key in the context. This lets Odoo’s ORM handle the translation creation process correctly.</p>
<p>The process involves two steps:</p>
<ol class="arabic simple">
<li><p><strong>Import the base terms:</strong> First, import your records with their default language values (e.g., English).</p></li>
<li><p><strong>Import the translated terms:</strong> Then, import a second file containing only the external IDs and the translated values, while setting the target language in the context.</p></li>
</ol>
<section id="example-translating-product-names-to-french">
<h3>Example: Translating Product Names to French<a class="headerlink" href="#example-translating-product-names-to-french" title="Link to this heading">¶</a></h3>
<p><strong>Step 1: Import the base product data in English</strong></p>
<p><strong>Source File (<code class="docutils literal notranslate"><span class="pre">product_template.csv</span></code>):</strong></p>
<div class="highlight-csv notranslate"><div class="highlight"><pre><span></span>id;name;price
my_module.product_wallet;Wallet;10.0
my_module.product_bicyle;Bicycle;400.0
</pre></div>
</div>
<p>You would import this file normally. The <code class="docutils literal notranslate"><span class="pre">id</span></code> column provides the stable external ID for each product.</p>
<p><strong>Step 2: Import the French translations</strong></p>
<p><strong>Source File (<code class="docutils literal notranslate"><span class="pre">product_template_FR.csv</span></code>):</strong>
This file only needs to contain the external ID and the fields that are being translated.</p>
<div class="highlight-csv notranslate"><div class="highlight"><pre><span></span>id;name
my_module.product_wallet;Portefeuille
my_module.product_bicyle;Bicyclette
</pre></div>
</div>
<p><strong>Transformation and Load</strong>
While you can use a <code class="docutils literal notranslate"><span class="pre">transform.py</span></code> script to generate the load script, for a simple translation update, you can also run the command directly.</p>
<p><strong>Command-line Example:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>odoo-data-flow<span class="w"> </span>import<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--config<span class="w"> </span>conf/connection.conf<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--file<span class="w"> </span>product_template_FR.csv<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--model<span class="w"> </span>product.template<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--context<span class="w"> </span><span class="s2">&quot;{&#39;lang&#39;: &#39;fr_FR&#39;}&quot;</span>
</pre></div>
</div>
<p>This does not overwrite the English name; instead, it correctly creates or updates the French translation for the <code class="docutils literal notranslate"><span class="pre">name</span></code> field on the specified products.</p>
</section>
</section>
<hr class="docutils" />
<section id="importing-account-move-lines">
<h2>Importing Account Move Lines<a class="headerlink" href="#importing-account-move-lines" title="Link to this heading">¶</a></h2>
<p>Importing journal entries (<code class="docutils literal notranslate"><span class="pre">account.move</span></code>) with their debit/credit lines (<code class="docutils literal notranslate"><span class="pre">account.move.line</span></code>) is a classic advanced use case that requires creating related records using <code class="docutils literal notranslate"><span class="pre">mapper.record</span></code> and stateful processing.</p>
<section id="performance-tip-skipping-validation">
<h3>Performance Tip: Skipping Validation<a class="headerlink" href="#performance-tip-skipping-validation" title="Link to this heading">¶</a></h3>
<p>For a significant performance boost when importing large, pre-validated accounting entries, you can tell Odoo to skip its balancing check (debits == credits) during the import. This is done by passing a special context key.</p>
</section>
<section id="example-importing-an-invoice">
<h3>Example: Importing an Invoice<a class="headerlink" href="#example-importing-an-invoice" title="Link to this heading">¶</a></h3>
<p><strong>Source File: <code class="docutils literal notranslate"><span class="pre">invoices.csv</span></code></strong></p>
<div class="highlight-csv notranslate"><div class="highlight"><pre><span></span>Journal,Reference,Date,Account,Label,Debit,Credit
INV,INV2023/12/001,2023-12-31,,,
,,&quot;Customer Invoices&quot;,600,&quot;Customer Debtor&quot;,250.00,
,,&quot;Customer Invoices&quot;,400100,&quot;Product Sales&quot;,,200.00
,,&quot;Customer Invoices&quot;,451000,&quot;VAT Collected&quot;,,50.00
</pre></div>
</div>
<p><strong>Transformation Script</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">odoo_data_flow.lib.transform</span><span class="w"> </span><span class="kn">import</span> <span class="n">Processor</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">odoo_data_flow.lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">mapper</span>

<span class="c1"># ... (see Data Transformations guide for full stateful processing example)</span>

<span class="c1"># Define parameters, including the crucial context key</span>
<span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="s1">&#39;account.move&#39;</span><span class="p">,</span>
    <span class="c1"># WARNING: Only use check_move_validity: False if you are certain</span>
    <span class="c1"># your source data is balanced.</span>
    <span class="s1">&#39;context&#39;</span><span class="p">:</span> <span class="s2">&quot;{&#39;check_move_validity&#39;: False, &#39;tracking_disable&#39;: True}&quot;</span>
<span class="p">}</span>

<span class="n">processor</span> <span class="o">=</span> <span class="n">Processor</span><span class="p">(</span><span class="s1">&#39;origin/invoices.csv&#39;</span><span class="p">)</span>
<span class="c1"># ... rest of process</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="importing-one-to-many-relationships-o2m-flag">
<h2>Importing One-to-Many Relationships (<code class="docutils literal notranslate"><span class="pre">--o2m</span></code> flag)<a class="headerlink" href="#importing-one-to-many-relationships-o2m-flag" title="Link to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">--o2m</span></code> flag enables a special import mode for handling source files where child records (the “many” side) are listed directly under their parent record (the “one” side).</p>
<section id="use-case-and-file-structure">
<h3>Use Case and File Structure<a class="headerlink" href="#use-case-and-file-structure" title="Link to this heading">¶</a></h3>
<p>This mode is designed for files structured like this, where a master record has lines for two different one-to-many fields (<code class="docutils literal notranslate"><span class="pre">child1_ids</span></code> and <code class="docutils literal notranslate"><span class="pre">child2_ids</span></code>):</p>
<p><strong>Source File (<code class="docutils literal notranslate"><span class="pre">master_with_children.csv</span></code>)</strong></p>
<div class="highlight-csv notranslate"><div class="highlight"><pre><span></span>MasterID,MasterName,Child1_SKU,Child2_Ref
M01,Master Record 1,field_value1_of_child1,field_value1_of_child2
, , , field_value2_of_child1,field_value2_of_child2
, , , ,field_value3_of_child2
</pre></div>
</div>
<p>With the <code class="docutils literal notranslate"><span class="pre">--o2m</span></code> option, the processor understands that the lines with empty master fields belong to the last master record encountered. It will import “Master Record 1” with two <code class="docutils literal notranslate"><span class="pre">child1</span></code> records and three <code class="docutils literal notranslate"><span class="pre">child2</span></code> records simultaneously.</p>
</section>
<section id="transformation-and-load">
<h3>Transformation and Load<a class="headerlink" href="#transformation-and-load" title="Link to this heading">¶</a></h3>
<p>Your mapping would use <code class="docutils literal notranslate"><span class="pre">mapper.record</span></code> and <code class="docutils literal notranslate"><span class="pre">mapper.cond</span></code> to process the child lines, similar to the <code class="docutils literal notranslate"><span class="pre">account.move.line</span></code> example. The key difference is enabling the <code class="docutils literal notranslate"><span class="pre">o2m</span></code> flag in your <code class="docutils literal notranslate"><span class="pre">params</span></code> dictionary.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># In your transform.py</span>
<span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="s1">&#39;master.model&#39;</span><span class="p">,</span>
    <span class="s1">&#39;o2m&#39;</span><span class="p">:</span> <span class="kc">True</span> <span class="c1"># Enable the special o2m handling</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The generated <code class="docutils literal notranslate"><span class="pre">load.sh</span></code> script will then include the <code class="docutils literal notranslate"><span class="pre">--o2m</span></code> flag in the <code class="docutils literal notranslate"><span class="pre">odoo-data-flow</span> <span class="pre">import</span></code> command.</p>
</section>
<section id="important-limitations">
<h3>Important Limitations<a class="headerlink" href="#important-limitations" title="Link to this heading">¶</a></h3>
<p>This method is convenient but has significant consequences because <strong>it is impossible to set XML_IDs on the child records</strong>. As a result:</p>
<ul class="simple">
<li><p>You <strong>cannot run the import again to update</strong> the child records. Any re-import will create new child records.</p></li>
<li><p>The child records <strong>cannot be referenced</strong> by their external ID in any other import file.</p></li>
</ul>
<p>This method is best suited for simple, one-off imports of transactional data where the child lines do not need to be updated or referenced later.</p>
</section>
</section>
<hr class="docutils" />
<section id="validating-imports-check-flag">
<h2>Validating Imports (<code class="docutils literal notranslate"><span class="pre">--check</span></code> flag)<a class="headerlink" href="#validating-imports-check-flag" title="Link to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">--check</span></code> flag provides an extra layer of validation during the import process. When this flag is used, at the end of each transaction, the client compares the number of records sent in the batch with the number of records Odoo reports as successfully imported.</p>
<p>If these numbers do not match, an error message is printed. This is an extremely useful tool for catching silent errors. The most common cause for a mismatch is having records with duplicate XML_IDs within the same batch.</p>
<p>For more details on why this might happen, see the <a class="reference internal" href="#../../faq.md#record-count-mismatch"><span class="xref myst">Record Count Mismatch</span></a> section in the FAQ.</p>
<section id="usage">
<h3>Usage<a class="headerlink" href="#usage" title="Link to this heading">¶</a></h3>
<p>To enable this feature, set the <code class="docutils literal notranslate"><span class="pre">check</span></code> key to <code class="docutils literal notranslate"><span class="pre">True</span></code> in your <code class="docutils literal notranslate"><span class="pre">params</span></code> dictionary.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># In your transform.py</span>
<span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="s1">&#39;res.partner&#39;</span><span class="p">,</span>
    <span class="s1">&#39;check&#39;</span><span class="p">:</span> <span class="kc">True</span> <span class="c1"># Enable import validation</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The generated <code class="docutils literal notranslate"><span class="pre">load.sh</span></code> script will then include the <code class="docutils literal notranslate"><span class="pre">--check</span></code> flag in the <code class="docutils literal notranslate"><span class="pre">odoo-data-flow</span> <span class="pre">import</span></code> command.</p>
</section>
</section>
<hr class="docutils" />
<section id="advanced-product-imports-creating-variants">
<h2>Advanced Product Imports: Creating Variants<a class="headerlink" href="#advanced-product-imports-creating-variants" title="Link to this heading">¶</a></h2>
<p>When you import <code class="docutils literal notranslate"><span class="pre">product.template</span></code> records along with their attributes and values, Odoo does not create the final <code class="docutils literal notranslate"><span class="pre">product.product</span></code> variants by default. You must explicitly tell Odoo to do so using a context key.</p>
<section id="the-create-product-product-context-key">
<h3>The <code class="docutils literal notranslate"><span class="pre">create_product_product</span></code> Context Key<a class="headerlink" href="#the-create-product-product-context-key" title="Link to this heading">¶</a></h3>
<p>By setting <code class="docutils literal notranslate"><span class="pre">create_product_product:</span> <span class="pre">True</span></code> in the context of your <code class="docutils literal notranslate"><span class="pre">product.template</span></code> import, you trigger the Odoo mechanism that generates all possible product variants based on the attribute lines you have imported for that template.</p>
<p>This is typically done as the final step <em>after</em> you have already imported the product attributes, attribute values, and linked them to the templates via attribute lines.</p>
</section>
<section id="example-triggering-variant-creation">
<h3>Example: Triggering Variant Creation<a class="headerlink" href="#example-triggering-variant-creation" title="Link to this heading">¶</a></h3>
<p>Assume you have already run separate imports for <code class="docutils literal notranslate"><span class="pre">product.attribute</span></code>, <code class="docutils literal notranslate"><span class="pre">product.attribute.value</span></code>, and <code class="docutils literal notranslate"><span class="pre">product.attribute.line</span></code>. Now, you want to trigger the variant creation.</p>
<p>The easiest way is to re-import your <code class="docutils literal notranslate"><span class="pre">product.template.csv</span></code> file with the special context key.</p>
<p><strong>Transformation and Load</strong>
In the <code class="docutils literal notranslate"><span class="pre">params</span></code> dictionary of your <code class="docutils literal notranslate"><span class="pre">product.template</span></code> transformation script, add the key:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># In your transform.py for product templates</span>

<span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="s1">&#39;product.template&#39;</span><span class="p">,</span>
    <span class="c1"># This context key tells Odoo to generate the variants</span>
    <span class="s1">&#39;context&#39;</span><span class="p">:</span> <span class="s2">&quot;{&#39;create_product_product&#39;: True, &#39;tracking_disable&#39;: True}&quot;</span>
<span class="p">}</span>

<span class="c1"># The mapping would be the same as your initial template import</span>
<span class="n">template_mapping</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">mapper</span><span class="o">.</span><span class="n">m2o_map</span><span class="p">(</span><span class="s1">&#39;prod_tmpl_&#39;</span><span class="p">,</span> <span class="s1">&#39;Ref&#39;</span><span class="p">),</span>
    <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">mapper</span><span class="o">.</span><span class="n">val</span><span class="p">(</span><span class="s1">&#39;Name&#39;</span><span class="p">),</span>
    <span class="c1"># ... other template fields</span>
<span class="p">}</span>
</pre></div>
</div>
<p>When you run the generated <code class="docutils literal notranslate"><span class="pre">load.sh</span></code> script for this process, Odoo will find each product template, look at its attribute lines, and create all the necessary <code class="docutils literal notranslate"><span class="pre">product.product</span></code> variants (e.g., a T-Shirt in sizes S, M, L and colors Red, Blue).</p>
</section>
</section>
<hr class="docutils" />
<section id="merging-data-from-multiple-files-join-file">
<h2>Merging Data from Multiple Files (<code class="docutils literal notranslate"><span class="pre">join_file</span></code>)<a class="headerlink" href="#merging-data-from-multiple-files-join-file" title="Link to this heading">¶</a></h2>
<p>Sometimes, the data you need for a single import is spread across multiple source files. The <code class="docutils literal notranslate"><span class="pre">.join_file()</span></code> method allows you to enrich your main dataset by merging columns from a second file, similar to a VLOOKUP in a spreadsheet.</p>
<section id="the-join-file-method">
<h3>The <code class="docutils literal notranslate"><span class="pre">.join_file()</span></code> Method<a class="headerlink" href="#the-join-file-method" title="Link to this heading">¶</a></h3>
<p>You first initialize a <code class="docutils literal notranslate"><span class="pre">Processor</span></code> with your primary file. Then, you call <code class="docutils literal notranslate"><span class="pre">.join_file()</span></code> to merge data from a secondary file based on a common key.</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">filename</span></code> (str)</strong>: The path to the secondary file to merge in.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">key1</span></code> (str)</strong>: The name of the key column in the <strong>primary</strong> file.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">key2</span></code> (str)</strong>: The name of the key column in the <strong>secondary</strong> file.</p></li>
</ul>
</section>
<section id="example-merging-customer-details-into-an-order-file">
<h3>Example: Merging Customer Details into an Order File<a class="headerlink" href="#example-merging-customer-details-into-an-order-file" title="Link to this heading">¶</a></h3>
<p><strong>Transformation Script (<code class="docutils literal notranslate"><span class="pre">transform_merge.py</span></code>)</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">odoo_data_flow.lib.transform</span><span class="w"> </span><span class="kn">import</span> <span class="n">Processor</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">odoo_data_flow.lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">mapper</span>

<span class="c1"># 1. Initialize a processor with the primary file (orders)</span>
<span class="n">processor</span> <span class="o">=</span> <span class="n">Processor</span><span class="p">(</span><span class="s1">&#39;origin/orders.csv&#39;</span><span class="p">)</span>

<span class="c1"># 2. Join the customer details file.</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Joining customer details into orders data...&quot;</span><span class="p">)</span>
<span class="n">processor</span><span class="o">.</span><span class="n">join_file</span><span class="p">(</span><span class="s1">&#39;origin/customer_details.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;CustomerCode&#39;</span><span class="p">,</span> <span class="s1">&#39;Code&#39;</span><span class="p">)</span>

<span class="c1"># 3. Define a mapping that uses columns from BOTH files</span>
<span class="n">order_mapping</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">mapper</span><span class="o">.</span><span class="n">m2o_map</span><span class="p">(</span><span class="s1">&#39;import_so_&#39;</span><span class="p">,</span> <span class="s1">&#39;OrderID&#39;</span><span class="p">),</span>
    <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">mapper</span><span class="o">.</span><span class="n">val</span><span class="p">(</span><span class="s1">&#39;OrderID&#39;</span><span class="p">),</span>
    <span class="s1">&#39;date_order&#39;</span><span class="p">:</span> <span class="n">mapper</span><span class="o">.</span><span class="n">val</span><span class="p">(</span><span class="s1">&#39;OrderDate&#39;</span><span class="p">),</span>
    <span class="c1"># &#39;ContactPerson&#39; comes from the joined file</span>
    <span class="s1">&#39;x_studio_contact_person&#39;</span><span class="p">:</span> <span class="n">mapper</span><span class="o">.</span><span class="n">val</span><span class="p">(</span><span class="s1">&#39;ContactPerson&#39;</span><span class="p">),</span>
<span class="p">}</span>

<span class="c1"># The processor now contains the merged data and can be processed as usual</span>
<span class="n">processor</span><span class="o">.</span><span class="n">process</span><span class="p">(</span>
    <span class="n">mapping</span><span class="o">=</span><span class="n">order_mapping</span><span class="p">,</span>
    <span class="n">target_file</span><span class="o">=</span><span class="s1">&#39;data/orders_with_details.csv&#39;</span><span class="p">,</span>
    <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="s1">&#39;sale.order&#39;</span><span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="splitting-large-datasets-for-import">
<h2>Splitting Large Datasets for Import<a class="headerlink" href="#splitting-large-datasets-for-import" title="Link to this heading">¶</a></h2>
<p>When dealing with extremely large source files, processing everything in a single step can be memory-intensive and unwieldy. The library provides a <code class="docutils literal notranslate"><span class="pre">.split()</span></code> method on the <code class="docutils literal notranslate"><span class="pre">Processor</span></code> to break down a large dataset into smaller, more manageable chunks.</p>
<section id="the-split-method">
<h3>The <code class="docutils literal notranslate"><span class="pre">.split()</span></code> Method<a class="headerlink" href="#the-split-method" title="Link to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">.split()</span></code> method divides the processor’s in-memory dataset into a specified number of parts. It does not write any files itself; instead, it returns a dictionary where each key is an index and each value is a new, smaller <code class="docutils literal notranslate"><span class="pre">Processor</span></code> object containing a slice of the original data.</p>
<p>You can then iterate over this dictionary to process each chunk independently.</p>
</section>
<section id="example-splitting-a-large-file-into-4-parts">
<h3>Example: Splitting a Large File into 4 Parts<a class="headerlink" href="#example-splitting-a-large-file-into-4-parts" title="Link to this heading">¶</a></h3>
<p><strong>Transformation Script (<code class="docutils literal notranslate"><span class="pre">transform_split.py</span></code>)</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">odoo_data_flow.lib.transform</span><span class="w"> </span><span class="kn">import</span> <span class="n">Processor</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">odoo_data_flow.lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">mapper</span>

<span class="c1"># 1. Define your mapping as usual</span>
<span class="n">product_mapping</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">mapper</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="s1">&#39;large_prod_&#39;</span><span class="p">,</span> <span class="s1">&#39;SKU&#39;</span><span class="p">),</span>
    <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">mapper</span><span class="o">.</span><span class="n">val</span><span class="p">(</span><span class="s1">&#39;ProductName&#39;</span><span class="p">),</span>
<span class="p">}</span>

<span class="c1"># 2. Initialize a single processor with the large source file</span>
<span class="n">processor</span> <span class="o">=</span> <span class="n">Processor</span><span class="p">(</span><span class="s1">&#39;origin/large_products.csv&#39;</span><span class="p">)</span>

<span class="c1"># 3. Split the processor into 4 smaller, independent processors</span>
<span class="n">split_processors</span> <span class="o">=</span> <span class="n">processor</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">mapper</span><span class="o">.</span><span class="n">split_file_number</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>

<span class="c1"># 4. Loop through the dictionary of new processors</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">chunk_processor</span> <span class="ow">in</span> <span class="n">split_processors</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">output_filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;data/products_chunk_</span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2">.csv&quot;</span>
    <span class="n">chunk_processor</span><span class="o">.</span><span class="n">process</span><span class="p">(</span>
        <span class="n">mapping</span><span class="o">=</span><span class="n">product_mapping</span><span class="p">,</span>
        <span class="n">target_file</span><span class="o">=</span><span class="n">output_filename</span><span class="p">,</span>
        <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="s1">&#39;product.product&#39;</span><span class="p">}</span>
    <span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="05_performance_tuning.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Guide: Performance Tuning</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="03_data_transformations.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Guide: Data Transformations with Mappers</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, bosd
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Guide: Advanced Usage</a><ul>
<li><a class="reference internal" href="#processing-xml-files">Processing XML Files</a><ul>
<li><a class="reference internal" href="#example-importing-partners-from-an-xml-file">Example: Importing Partners from an XML File</a></li>
</ul>
</li>
<li><a class="reference internal" href="#importing-data-for-multiple-companies">Importing Data for Multiple Companies</a><ul>
<li><a class="reference internal" href="#method-1-the-procedural-approach-recommended">Method 1: The Procedural Approach (Recommended)</a></li>
<li><a class="reference internal" href="#method-2-the-programmatic-approach-company-id">Method 2: The Programmatic Approach (<code class="docutils literal notranslate"><span class="pre">company_id</span></code>)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#importing-translations">Importing Translations</a><ul>
<li><a class="reference internal" href="#example-translating-product-names-to-french">Example: Translating Product Names to French</a></li>
</ul>
</li>
<li><a class="reference internal" href="#importing-account-move-lines">Importing Account Move Lines</a><ul>
<li><a class="reference internal" href="#performance-tip-skipping-validation">Performance Tip: Skipping Validation</a></li>
<li><a class="reference internal" href="#example-importing-an-invoice">Example: Importing an Invoice</a></li>
</ul>
</li>
<li><a class="reference internal" href="#importing-one-to-many-relationships-o2m-flag">Importing One-to-Many Relationships (<code class="docutils literal notranslate"><span class="pre">--o2m</span></code> flag)</a><ul>
<li><a class="reference internal" href="#use-case-and-file-structure">Use Case and File Structure</a></li>
<li><a class="reference internal" href="#transformation-and-load">Transformation and Load</a></li>
<li><a class="reference internal" href="#important-limitations">Important Limitations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#validating-imports-check-flag">Validating Imports (<code class="docutils literal notranslate"><span class="pre">--check</span></code> flag)</a><ul>
<li><a class="reference internal" href="#usage">Usage</a></li>
</ul>
</li>
<li><a class="reference internal" href="#advanced-product-imports-creating-variants">Advanced Product Imports: Creating Variants</a><ul>
<li><a class="reference internal" href="#the-create-product-product-context-key">The <code class="docutils literal notranslate"><span class="pre">create_product_product</span></code> Context Key</a></li>
<li><a class="reference internal" href="#example-triggering-variant-creation">Example: Triggering Variant Creation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#merging-data-from-multiple-files-join-file">Merging Data from Multiple Files (<code class="docutils literal notranslate"><span class="pre">join_file</span></code>)</a><ul>
<li><a class="reference internal" href="#the-join-file-method">The <code class="docutils literal notranslate"><span class="pre">.join_file()</span></code> Method</a></li>
<li><a class="reference internal" href="#example-merging-customer-details-into-an-order-file">Example: Merging Customer Details into an Order File</a></li>
</ul>
</li>
<li><a class="reference internal" href="#splitting-large-datasets-for-import">Splitting Large Datasets for Import</a><ul>
<li><a class="reference internal" href="#the-split-method">The <code class="docutils literal notranslate"><span class="pre">.split()</span></code> Method</a></li>
<li><a class="reference internal" href="#example-splitting-a-large-file-into-4-parts">Example: Splitting a Large File into 4 Parts</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({"startOnLoad": true})</script>
    </body>
</html>